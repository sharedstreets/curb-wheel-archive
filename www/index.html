<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<title>CurbWheel</title>
		<link rel="stylesheet" href="css/basics.css">
		<link rel="stylesheet" href="css/style.css">
		<link href='css/mapbox-gl.css' rel='stylesheet' />
	</head>
	<body class='is-mobile'>
		<section class="" id='topBar'>
			<span class="icon fl m20" id="backButton">
				<img src='img/back.svg' class='icon' style='fill:white'/>
			</span>
			<div class='big' id='title'>Select a Street</div>
			<div class="fr ble-section">
					<div class="ble-status" id="ble-status"></div>
					<img src='img/bluetooth.svg' class='icon ble-indicator' id="ble-indicator"/>
				<span class="icon m20 survey-upload" style="width: 40px">
					<img src='img/upload.svg' class='icon upload-indicator' id="upload-indicator"/>&nbsp;<span id="pendingUploadCount" style="font-weight: bold;"></span>
				</span>
			</div>

		</section>
		<div id='modes'>
			<div class='mode'>
				<div id='map'></div>
				<div id='mapModal'>
					<div>
						<div class='inlineBlock halfButton' id="switchSide">Other side</div><div class='inlineBlock halfButton' id="switchDirection">Other direction</div>
					</div>
					<div class='bottomButton' id="startSurvey">
						Start Survey
					</div>
				</div>
			</div>
			<div id='rolling' class='mode'>
				<div id='master'>
					<div class='entry'>
						<div>Surveying
							<span id='streetName'></span>
							<span id='rollDelta' class='fr blue'>foo</span>
						</div>
						<div class='progressBar mt10 mb10'>
							<div class='track'></div>
							<div class='span'></div>
							<div class='wheel'>
								<div class='spoke'></div>
							</div>
						</div>
						<span class='small quiet'>
							<span id='blockProgress'>0</span>m of ~<span id='curbLength'></span>m
						</span>
					</div>
				</div>
				<div class='scroll-drawer'>
					<div id='scrollBar'>
						<div id='scrollThumb'></div>
					</div>
					<div class='scroll-inner' onresize='alert("sdfsdf")'>
						<div id='features'></div>

						<div class='text-center mt20 mb200'>
							<p class='big' id="addFeatureButton">
								<span class="blue mr10 inlineBlock" style='transform: scale(1.5)'>
									<img src='img/plus.svg' class='icon'/>
								</span>
								Add a curb feature
							</p>
						</div>
					</div>
				</div>
				<div class='pin-bottom bottomButton'>
					<div class='col6' id="resetButton">Reset</div>
					<div class='col6' id="validateButton">Complete</div>
				</div>
			</div>
			<div id='addFeature' class='scroll mode'></div>
		</div>
		<div class="js-modal modal">
			<div class="js-modal__body modal__body">
				<div class="modal-close" id="modal-close"><img src="img/x.svg" alt=""></div>
			  <h2 class="modal-title">Bluetooth Connections Available</h2>
			  <ul class="bluetooth-connections"></ul>
			  <span style="color:grey">Click an item to connect to bluetooth device</span>
			</div>
			<div class="js-modal__background modal__background"></div>
		</div>
    </body>
    <script src="cordova.js"></script>
    <script src="js/bundle.js"></script>
	<script>
		// add iframe listener after app.js has loaded
		var hiddenIframe = document.getElementById('hidden-iframe');
		//hiddenIframe.addEventListener('load', app.io.iframeOnload);
	</script>
</html>
